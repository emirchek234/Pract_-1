# –°–ª–æ–≤–∞—Ä—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
game_data = {
    "player": {
        "name": "",
        "health": 100
    }
}

# –°–ø–∏—Å–æ–∫ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
inventory = ['—Ç–µ–ª–µ—Ñ–æ–Ω']

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
completed_actions = set()

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
def print_slow(text):
    import time
    for char in text:
        print(char, end='', flush=True)
        time.sleep(0.02)
    print()

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
def show_inventory():
    print_slow(f"üì¶ –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: {', '.join(inventory)}")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è
def show_health():
    print_slow(f"‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: {game_data['player']['health']}%")

# –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è
def level_1():
    print_slow("\n" + "="*50)
    print_slow("–£–†–û–í–ï–ù–¨ 1: –ü–û–ò–°–ö –ö–õ–Æ–ß–ê –û–¢ –ö–õ–ê–°–°–ê")
    print_slow("="*50)
    
    print_slow("–í—ã –ø—Ä–æ—Å—ã–ø–∞–µ—Ç–µ—Å—å –≤ —à–∫–æ–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Ä–æ–∫–∞.")
    print_slow("–®–∫–æ–ª–∞ —É–∂–µ –ø—É—Å—Ç–∞—è, –≤—Å–µ —É—à–ª–∏ –¥–æ–º–æ–π, –∞ –≤—ã –∑–∞—Å–Ω—É–ª–∏ –∑–∞ –ø–∞—Ä—Ç–æ–π.")
    print_slow("–î–≤–µ—Ä—å –∫–ª–∞—Å—Å–∞ –∑–∞–∫—Ä—ã—Ç–∞ –Ω–∞ –∫–ª—é—á! –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± –≤—ã–±—Ä–∞—Ç—å—Å—è.")
    
    # –°–ª–æ–≤–∞—Ä—å —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    items_description = {
        "—É—á–µ–±–Ω–∏–∫": "–°—Ç–∞—Ä—ã–π –ø–æ—Ç—Ä—ë–ø–∞–Ω–Ω—ã–π —É—á–µ–±–Ω–∏–∫ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ",
        "—Ä—É—á–∫–∞": "–°–∏–Ω—è—è —à–∞—Ä–∏–∫–æ–≤–∞—è —Ä—É—á–∫–∞, –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å",
        "–¥–Ω–µ–≤–Ω–∏–∫": "–í–∞—à –¥–Ω–µ–≤–Ω–∏–∫ —Å –¥–≤–æ–π–∫–æ–π –ø–æ —Ñ–∏–∑–∏–∫–µ.",
        "–∫–ª—é—á": "–ë–ª–µ—Å—Ç—è—â–∏–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–ª—é—á –æ—Ç –∫–ª–∞—Å—Å–Ω–æ–π –¥–≤–µ—Ä–∏!",
        "—è–±–ª–æ–∫–æ": "–°–æ—á–Ω–æ–µ –∑–µ–ª—ë–Ω–æ–µ —è–±–ª–æ–∫–æ", 
        "—Ç–µ–ª–µ—Ñ–æ–Ω": "–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ä–∞–∑—Ä—è–∂–µ–Ω"
    }
    
    print_slow("\n–û—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –∫–ª–∞—Å—Å. –ù–∞ —Å—Ç–æ–ª–µ –≤–∏–¥–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã:")
    
    searched_locations = set()  # –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç
    
    while "–∫–ª—é—á" not in inventory:
        print_slow("\n–ö—É–¥–∞ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ?")
        print_slow("1 - —É—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Å—Ç–æ–ª")
        print_slow("2 - –≤–∞—à–∞ –ø–∞—Ä—Ç–∞") 
        print_slow("3 - —à–∫–∞—Ñ —Å –ø–æ—Å–æ–±–∏—è–º–∏")
        print_slow("4 - –æ–∫–Ω–æ")
        print_slow("–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print_slow("–∑–¥–æ—Ä–æ–≤—å–µ - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ")
        
        choice = input("\n–í–∞—à –≤—ã–±–æ—Ä: ").lower().strip()
        
        if choice == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
            show_inventory()
            continue
        elif choice == "–∑–¥–æ—Ä–æ–≤—å–µ":
            show_health()
            continue
        
        if choice == "1" and "—É—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Å—Ç–æ–ª" not in searched_locations:
            print_slow("\n–í—ã –ø–æ–¥—Ö–æ–¥–∏—Ç–µ –∫ —É—á–∏—Ç–µ–ª—å—Å–∫–æ–º—É —Å—Ç–æ–ª—É.")
            print_slow("–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∞—Ç: —É—á–µ–±–Ω–∏–∫, —Ä—É—á–∫–∞ –∏ –¥–Ω–µ–≤–Ω–∏–∫.")
            print_slow("–ö–∞–∫–æ–π –ø—Ä–µ–¥–º–µ—Ç –≤–æ–∑—å–º—ë—Ç–µ? (–Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞)")
            
            item_choice = input().lower().strip()
            
            if item_choice in ["—É—á–µ–±–Ω–∏–∫", "—Ä—É—á–∫–∞", "–¥–Ω–µ–≤–Ω–∏–∫"]:
                if item_choice not in inventory and item_choice == '—Ä—É—á–∫–∞':
                    inventory.append(item_choice)
                    print_slow(f"–í—ã –≤–∑—è–ª–∏ {item_choice}. {items_description[item_choice]}")
                elif item_choice not in inventory and item_choice == '–¥–Ω–µ–≤–Ω–∏–∫':
                    print_slow(f"–í—ã –≤–∑—è–ª–∏ {item_choice}. {items_description[item_choice]}")
                    game_data['player']['health'] -= 15
                    print(f'–≤—ã —Ä–µ—à–∏–ª–∏ –Ω–µ –±—Ä–∞—Ç—å {item_choice} –∏ –ø–æ–ª—É—á–∏–ª–∏ –¥—É—à–µ–≤–Ω—ã–π —É—Ä–æ–Ω! –ó–¥–æ—Ä–æ–≤—å–µ -15%')
                    show_health()
                elif item_choice not in inventory and item_choice == '–£—á–µ–±–Ω–∏–∫':
                    inventory.append(item_choice)
                    print_slow(f"–í—ã –≤–∑—è–ª–∏ {item_choice}. {items_description[item_choice]}")
                    game_data['player']['health'] -= 10
                    print(f'–æ—Ç–∫—Ä—ã–≤ {item_choice}, –≤—ã –≤—Å–ø–æ–º–Ω–∏–ª–∏ –ø—Ä–æ –Ω–µ—Å–¥–µ–ª–∞–Ω–Ω–æ–µ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ! –ó–¥–æ—Ä–æ–≤—å–µ - 10%')
                    show_health()
                else:
                    print_slow(f"–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å {item_choice}!")
            else:
                print_slow("–¢–∞–∫–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –∑–¥–µ—Å—å –Ω–µ—Ç.")
                continue
            
            searched_locations.add("—É—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Å—Ç–æ–ª")
            
        elif choice == "2" and "–≤–∞—à–∞ –ø–∞—Ä—Ç–∞" not in searched_locations:
            print_slow("\n–í—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ —Å–≤–æ—é –ø–∞—Ä—Ç—É. –ü–æ–¥ –ø–∞—Ä—Ç–æ–π —á—Ç–æ-—Ç–æ –Ω–∞—Ü–∞—Ä–∞–ø–∞–Ω–æ...")
            print_slow("–í –ø–µ–Ω–∞–ª–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ —Ä—É—á–∫—É, –∞ –≤ —Ä—é–∫–∑–∞–∫–µ - —è–±–ª–æ–∫–æ.")
            print_slow("–ö–∞–∫–æ–π –ø—Ä–µ–¥–º–µ—Ç –≤–æ–∑—å–º—ë—Ç–µ? (–Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞)")
            
            for item in ["—Ä—É—á–∫–∞", "—è–±–ª–æ–∫–æ", '–Ω–∞–¥–ø–∏—Å—å']:
                print_slow(f"- {item}")
            
            item_choice = input().lower().strip()
            
            if item_choice in ["—Ä—É—á–∫–∞", "—è–±–ª–æ–∫–æ"]:
                if item_choice not in inventory:
                    inventory.append(item_choice)
                    print_slow(f"–í—ã –≤–∑—è–ª–∏ {item_choice}. {items_description[item_choice]}")
                else:
                    print_slow(f"–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å {item_choice}!")
            elif item_choice == '–Ω–∞–¥–ø–∏—Å—å':
                print('–ø–æ–¥ –ø–∞—Ä—Ç–æ–π –Ω–∞—Ü–∞—Ä–∞–ø–∞–Ω–∞ —Ü–∏—Ñ—Ä–∞ "6"')
                continue
            else:
                print_slow("–¢–∞–∫–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –∑–¥–µ—Å—å –Ω–µ—Ç.")
                continue
            
            searched_locations.add("–≤–∞—à–∞ –ø–∞—Ä—Ç–∞")
            
        elif choice == "3" and "—à–∫–∞—Ñ" not in searched_locations:
            print_slow("\n–í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —à–∫–∞—Ñ —Å —É—á–µ–±–Ω—ã–º–∏ –ø–æ—Å–æ–±–∏—è–º–∏.")
            print_slow("–°—Ä–µ–¥–∏ —Å—Ç–∞—Ä—ã—Ö –∫–∞—Ä—Ç –∏ –≥–ª–æ–±—É—Å–æ–≤ –∑–∞–º–µ—á–∞—Ç–µ–ª–µ –±–ª–µ—Å—Ç—è—â–∏–π –∫–ª—é—á!")
            print_slow("–í—ã –±–µ—Ä—ë—Ç–µ –ö–õ–Æ–ß –æ—Ç –∫–ª–∞—Å—Å–Ω–æ–π –¥–≤–µ—Ä–∏!")

            
            inventory.append("–∫–ª—é—á")
            searched_locations.add("—à–∫–∞—Ñ")
            completed_actions.add("–Ω–∞—à–µ–ª –∫–ª—é—á")
            
        elif choice == "4":
            print_slow("\n–í—ã –ø–æ–¥—Ö–æ–¥–∏—Ç–µ –∫ –æ–∫–Ω—É - –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ç—Ä–µ—Ç—å–µ–º —ç—Ç–∞–∂–µ.")
            print_slow("–ü—Ä—ã–≥–∞—Ç—å –æ–ø–∞—Å–Ω–æ –¥–ª—è –∂–∏–∑–Ω–∏! –õ—É—á—à–µ –ø–æ–∏—Å–∫–∞—Ç—å –¥—Ä—É–≥–æ–π –≤—ã—Ö–æ–¥.")
            game_data['player']['health'] -= 10
            print_slow("–û—Ç –æ–¥–Ω–æ–π –º—ã—Å–ª–∏ –æ –ø—Ä—ã–∂–∫–µ –≤–∞–º —Å—Ç–∞–ª–æ –ø–ª–æ—Ö–æ. –ó–¥–æ—Ä–æ–≤—å–µ -10%")
            show_health()
            
        elif choice in ["1", "2", "3"]:
            location_name = {
                "1": "—É—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Å—Ç–æ–ª", 
                "2": "–≤–∞—à–∞ –ø–∞—Ä—Ç–∞", 
                "3": "—à–∫–∞—Ñ"
            }[choice]
            
            if location_name in searched_locations:
                print_slow(f"\n–í—ã —É–∂–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏ {location_name}. –ó–¥–µ—Å—å –±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ.")
        else:
            print_slow("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.")
    
    print_slow("\nüéâ –£–†–ê! –í—ã –Ω–∞—à–ª–∏ –∫–ª—é—á –æ—Ç –∫–ª–∞—Å—Å–Ω–æ–π –¥–≤–µ—Ä–∏!")
    print_slow("–í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –¥–≤–µ—Ä—å –∏ –≤—ã—Ö–æ–¥–∏—Ç–µ –≤ —à–∫–æ–ª—å–Ω—ã–π –∫–æ—Ä–∏–¥–æ—Ä.")
    completed_actions.add("–ø—Ä–æ—à–µ–ª —É—Ä–æ–≤–µ–Ω—å 1")
    return True

# –§—É–Ω–∫—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è  
def level_2():
    print_slow("\n" + "="*50)
    print_slow("–£–†–û–í–ï–ù–¨ 2: –û–ë–•–û–î –î–ï–ñ–£–†–ù–û–ì–û –£–ß–ò–¢–ï–õ–Ø")
    print_slow("="*50)
    
    print_slow("–í—ã –≤—ã—à–ª–∏ –≤ —à–∫–æ–ª—å–Ω—ã–π –∫–æ—Ä–∏–¥–æ—Ä. –î–æ –≤—ã—Ö–æ–¥–∞ –Ω–∞ —Å–≤–æ–±–æ–¥—É –æ—Å—Ç–∞—ë—Ç—Å—è —Å–æ–≤—Å–µ–º –Ω–µ–º–Ω–æ–≥–æ!")
    print_slow("–ù–æ –≤–æ—Ç –Ω–µ–∑–∞–¥–∞—á–∞ - —É –≤—ã—Ö–æ–¥–∞ –¥–µ–∂—É—Ä—É–µ—Ç —É—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞.")
    print_slow("–ù—É–∂–Ω–æ –∫–∞–∫-—Ç–æ –æ—Ç–≤–ª–µ—á—å –µ—ë –∏–ª–∏ –æ–±–æ–π—Ç–∏!")
    
    # –°–ª–æ–≤–∞—Ä—å —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —É—á–∏—Ç–µ–ª—å–Ω–∏—Ü—ã
    teacher_state = {
        "position": "—É –≤—ã—Ö–æ–¥–∞",
        "distracted": False,
        "items_taken": []
    }
    
    corridor_actions = 0
    
    while teacher_state["position"] == "—É –≤—ã—Ö–æ–¥–∞":
        print_slow("\n–í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è:")
        print_slow("1 - –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø—Ä–æ–π—Ç–∏ –º–∏–º–æ")
        print_slow("2 - –æ—Ç–≤–ª–µ—á—å —É—á–∏—Ç–µ–ª—å–Ω–∏—Ü—É")
        print_slow("3 - –æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ—Ä–∏–¥–æ—Ä")
        print_slow("4 - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è")
        print_slow("–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
        print_slow("–∑–¥–æ—Ä–æ–≤—å–µ - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ")
        
        choice = input("\n–í–∞—à –≤—ã–±–æ—Ä: ").lower().strip()
        
        if choice == "–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å":
            show_inventory()
            continue
        elif choice == "–∑–¥–æ—Ä–æ–≤—å–µ":
            show_health()
            continue
        
        if choice == "1":
            print_slow("\n–í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø—Ä–æ–π—Ç–∏ –º–∏–º–æ –ú–∞—Ä–∏–∏ –ò–≤–∞–Ω–æ–≤–Ω—ã...")
            print_slow('–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞: "–ö—É–¥–∞ —ç—Ç–æ —Ç—ã —Å–æ–±—Ä–∞–ª—Å—è, —É –Ω–∞—Å –≤–µ—á–µ—Ä–æ–º –∫—Ä—É–∂–æ–∫ –ø–æ —Ñ–∏–∑–∏–∫–µ!"')
            print_slow("–í–∞—Å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –∫–æ—Ä–∏–¥–æ—Ä.")
            corridor_actions += 1
            game_data['player']['health'] -= 15
            show_health()
            
        elif choice == "2":
            print_slow("\n–í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–≤–ª–µ—á—å —É—á–∏—Ç–µ–ª—å–Ω–∏—Ü—É:")
            print_slow('–í—ã: "–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞, –≤ –∫–∞–±–∏–Ω–µ—Ç–µ —Ö–∏–º–∏–∏ —á—Ç–æ-—Ç–æ —Ä–∞–∑–ª–∏–ª–æ—Å—å!"')
            
            if corridor_actions >= 2:
                print_slow("–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞ –±–µ–∂–∏—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–±–∏–Ω–µ—Ç —Ö–∏–º–∏–∏!")
                teacher_state["position"] = "–∫–∞–±–∏–Ω–µ—Ç —Ö–∏–º–∏–∏"
                completed_actions.add("–æ—Ç–≤–ª–µ–∫ —É—á–∏—Ç–µ–ª—å–Ω–∏—Ü—É")
            else:
                print_slow('–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞: "–Ω–µ –ø–æ–≤–µ—Ä—é —Ç–≤–æ–º–∏ —à—É—Ç–∫–∞–º!"')
            corridor_actions += 1

        elif choice == "3":
            print_slow("\n–í—ã –æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –∫–æ—Ä–∏–¥–æ—Ä –∏ –Ω–∞—Ö–æ–¥–∏—Ç–µ:")
            
            if "–∑–∞–ø–∏—Å–∫–∞" not in inventory and "–∑–∞–ø–∏—Å–∫–∞" not in teacher_state["items_taken"]:
                print_slow("- —Å—Ç—Ä–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–ª—É")
                take_note = input("–ü–æ–¥–Ω—è—Ç—å –∑–∞–ø–∏—Å–∫—É? (–¥–∞/–Ω–µ—Ç): ").lower().strip()
                
                if take_note == "–¥–∞":
                    inventory.append("–∑–∞–ø–∏—Å–∫–∞")
                    teacher_state["items_taken"].append("–∑–∞–ø–∏—Å–∫–∞")
                    corridor_actions += 1
                    print_slow("–í—ã –ø–æ–¥–Ω—è–ª–∏ –æ–±–æ—Ä–≤–∞–Ω–Ω—É—é –∑–∞–ø–∏—Å–∫—É. –ù–∞ –Ω–µ–π –Ω–∞–ø–∏—Å–∞–Ω–æ: '–ü–∞—Ä–æ–ª—å: 248#'")
            else:
                print_slow("–í –∫–æ—Ä–∏–¥–æ—Ä–µ –±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ.")

        elif choice == "4":
            if not inventory:
                print_slow("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!")
                continue
                
            print_slow("\n–ö–∞–∫–æ–π –ø—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?")
            show_inventory()
            
            item = input().lower().strip()
            
            if item not in inventory:
                print_slow("–£ –≤–∞—Å –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞!")
            elif item == "—è–±–ª–æ–∫–æ":
                print_slow("–í—ã –∫–∞—Ç–∏—Ç–µ —è–±–ª–æ–∫–æ –ø–æ –ø–æ–ª—É –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É.")
                print_slow("–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞ –ø–æ—à–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —ç—Ç–æ –∑–∞ —à—É–º!")
                teacher_state["position"] = "–∏—Å—Å–ª–µ–¥—É–µ—Ç —à—É–º"
                inventory.remove("—è–±–ª–æ–∫–æ")
                completed_actions.add("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —è–±–ª–æ–∫–æ")
            elif item == "–∑–∞–ø–∏—Å–∫–∞":
                print_slow("–ù–∞ –∑–∞–ø–∏—Å–∫–µ –Ω–∞–ø–∏—Å–∞–Ω –ø–∞—Ä–æ–ª—å: 248#")
                print_slow("–í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –¥–ª—è —á–µ–≥–æ-—Ç–æ...")
            else:
                print_slow(f"{item.capitalize()} –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç –≤ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. -10% –ó–¥–æ—Ä–æ–≤—å—è")
                game_data['player']['health'] -= 10
                show_health()
            corridor_actions += 1
        else:
            print_slow("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.")

        if corridor_actions > 7:
            print_slow("\n–í—ã —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –≤–æ–∑–∏—Ç–µ—Å—å! –û—Ö—Ä–∞–Ω–Ω–∏–∫ –∑–∞–º–µ—Ç–∏–ª –≤–∞—Å –∏ –≤–µ—Ä–Ω—É–ª –≤ –∫–ª–∞—Å—Å.")
            print_slow("–ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê")
            return False
    
    print_slow("\n–ü–æ–∫–∞ –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–Ω–∞ –æ—Ç–≤–ª–µ—á–µ–Ω–∞, –≤—ã –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–µ—Ç–µ –∫ –≤—ã—Ö–æ–¥—É!")
    
    # –§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–≥–∞–¥–∫–∞
    print_slow("\n–î–≤–µ—Ä—å –≤—ã—Ö–æ–¥–∞ –∑–∞–∫—Ä—ã—Ç–∞ –∫–æ–¥–æ–≤—ã–º –∑–∞–º–∫–æ–º!")
    print_slow("–ù–∞ –∑–∞–º–∫–µ 4 —Ü–∏—Ñ—Ä—ã. –£ –≤–∞—Å –µ—Å—Ç—å 3 –ø–æ–ø—ã—Ç–∫–∏!")
    
    attempts = 3
    while attempts > 0:
        try:
            code = int(input("–í–≤–µ–¥–∏—Ç–µ 4-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥: "))
            
            if code == 2486:
                print_slow("üîì –©–Å–õ–ö! –ó–∞–º–æ–∫ –æ—Ç–∫—Ä—ã–ª—Å—è!")
                completed_actions.add("—É–≥–∞–¥–∞–ª –∫–æ–¥")
                break
            else:
                attempts -= 1
                if attempts > 0:
                    print_slow(f"‚ùå –ù–µ–≤–µ—Ä–Ω–æ! –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: {attempts}")
                else:
                    print_slow("‚ùå –í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏! –û—Ö—Ä–∞–Ω–Ω–∏–∫ –Ω–∞—à—ë–ª –≤–∞—Å.")
                    print_slow("–ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê")
                    return False
        except ValueError:
            print_slow("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!")
    
    print_slow("\nüéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! –í–´ –í–´–ë–†–ê–õ–ò–°–¨ –ò–ó –®–ö–û–õ–´!")
    print_slow("–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–≤–µ–∂–∏–π –≤–µ—á–µ—Ä–Ω–∏–π –≤–æ–∑–¥—É—Ö - –≤—ã –°–í–û–ë–û–î–ù–´!")
    completed_actions.add("–ø—Ä–æ—à–µ–ª —É—Ä–æ–≤–µ–Ω—å 2")
    completed_actions.add("–ø–æ–±–µ–≥ —É–¥–∞–ª—Å—è")
    return True

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã
def main():
    print("üéí" * 20)
    print("–¢–ï–ö–°–¢–û–í–ê–Ø –ò–ì–†–ê: –ü–û–ë–ï–ì –ò–ó –®–ö–û–õ–´")
    print("üéí" * 20)
    
    # –ü–æ–ª—É—á–∞–µ–º –∏–º—è –∏–≥—Ä–æ–∫–∞
    game_data["player"]["name"] = input("–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç? ").strip()
    if not game_data["player"]["name"]:
        game_data["player"]["name"] = "–£—á–µ–Ω–∏–∫"
    
    print_slow(f"\n–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, {game_data['player']['name']}!")
    print_slow("–í–∞—à–∞ —Ü–µ–ª—å - –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ —à–∫–æ–ª—ã –ø–æ—Å–ª–µ —É—Ä–æ–∫–æ–≤.")
    print_slow("–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Å —É–º–æ–º!")
    
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å...")
    
    # –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π
    if level_1():
        if level_2():
            # –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            print_slow("\n" + "‚≠ê" * 50)
            print_slow("–í–´ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ò–õ–ò –ò–ì–†–£!")
            print_slow("‚≠ê" * 50)
            print_slow(f"–ò–≥—Ä–æ–∫: {game_data['player']['name']}")
            print_slow(f"–§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ: {game_data['player']['health']}%")
            print_slow(f"–ü—Ä–µ–¥–º–µ—Ç–æ–≤ —Å–æ–±—Ä–∞–Ω–æ: {len(inventory)}")
            print_slow(f"–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–µ–π—Å—Ç–≤–∏–π: {completed_actions}")
            show_inventory()
            
            if game_data['player']['health'] > 80:
                print_slow("\nüèÜ –û–¢–õ–ò–ß–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢! –í—ã –ø–æ—á—Ç–∏ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∏!")
            elif game_data['player']['health'] > 50:
                print_slow("\nüëç –•–û–†–û–®–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢! –ù–µ–º–Ω–æ–≥–æ –ø–æ—Ç—Ä—ë–ø–∞–Ω–Ω—ã–π, –Ω–æ –∂–∏–≤–æ–π!")
            else:
                print_slow("\nüòÖ –ù–ï–£–î–ê–ß–ù–ï–ù–¨–ö–û! –ù–æ –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –≤—ã–±—Ä–∞–ª—Å—è!")
    
    print_slow("\n–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
main()